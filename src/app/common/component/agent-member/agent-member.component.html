
<div nz-row>
  <div nz-col nzSpan="24">
    <div class="buttons">
      <button nz-button style="margin-right: 5px;" (click)="exportToPdf()" nzType="danger">
        <span nz-icon nzType="file-pdf" nzTheme="outline"></span>
        Export to PDF
      </button>
      <button nz-button (click)="encodeInsuredMember()" nzType="primary">
        <span nz-icon nzType="file-add" nzTheme="outline"></span>
        Encode Insured Member
      </button>
    </div>
    
  </div>
</div>

<div nz-row>
  <div nz-col nzSpan="24">
    <nz-table #nzTable [nzData]="listOfMember" [nzScroll]="{ y: '380px', x: '1100px'  }">
      <thead>
        <tr>
          <th nzWidth="150px" nzLeft="0px">Specified Branch</th>
          <th nzWidth="150px" nzLeft="150px">Control Number
            <i nz-th-extra class="ant-table-filter-icon" nz-icon nz-dropdown #dropdown="nzDropdown" nzType="search"
            [nzDropdownMenu]="controlNumber" [class.ant-table-filter-open]="dropdown.nzVisible" nzTrigger="click"
            nzPlacement="bottomRight" [nzClickHide]="false" nzTableFilter></i>
          </th>
          <th nzWidth="200px" nzLeft="150px">Member Name
            <i nz-th-extra class="ant-table-filter-icon" nz-icon nz-dropdown #dropdown="nzDropdown" nzType="search"
              [nzDropdownMenu]="member" [class.ant-table-filter-open]="dropdown.nzVisible" nzTrigger="click"
              nzPlacement="bottomRight" [nzClickHide]="false" nzTableFilter></i>
          </th>
          <th nzWidth="250px">Agent Name</th>
          <th nzWidth="150px">Address</th>
          <th nzWidth="150px">Birthday</th>
          <th nzWidth="150px">Gender</th>
          <th nzWidth="150px">Type of Plan</th>
          <th nzWidth="150px">Plan Amount</th>
          <th nzWidth="150px">Date of Application</th>
          <th nzWidth="200px" nzRight="0px">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of nzTable.data">
          <td nzLeft="0px">{{data.specifiedBranch}}</td>
          <td nzLeft="150px">{{data.controlNumber}}</td>
          <td nzLeft="200px">{{data.member}}</td>
          <td nzLeft="250px">{{data.agent}}</td>
          <td>{{data.address}}</td>
          <td>{{data.birthday}}</td>
          <td>{{data.gender}}</td>
          <td>{{data.typeOfPlan}}</td>
          <td>{{data.planAmount}}</td>
          <td>{{data.dateOfApplication}}</td>
          <td nzRight="0px">
            <a (click)="viewDetails(data)">View</a>
            <nz-divider nzType="vertical"></nz-divider>
            <a>Edit</a>
            <nz-divider nzType="vertical"></nz-divider>
            <a>Delete</a>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </div>
</div>


<nz-dropdown-menu #controlNumber="nzDropdownMenu">
  <div class="ant-table-filter-dropdown">
    <div class="search-box">
      <input type="text" nz-input placeholder="Search by Control Number" [(ngModel)]="searchValue" />
      <button nz-button nzSize="small" nzType="primary" (click)="search('controlNumber')"
        class="search-button">Search</button>
      <button nz-button nzSize="small" (click)="reset('controlNumber')">Reset</button>
    </div>
  </div>
</nz-dropdown-menu>

<nz-dropdown-menu #member="nzDropdownMenu">
  <div class="ant-table-filter-dropdown">
    <div class="search-box">
      <input type="text" nz-input placeholder="Search by Member Name" [(ngModel)]="searchValue" />
      <button nz-button nzSize="small" nzType="primary" (click)="search('member')"
        class="search-button">Search</button>
      <button nz-button nzSize="small" (click)="reset('member')">Reset</button>
    </div>
  </div>
</nz-dropdown-menu>

<!-- <nz-modal [(nzVisible)]="showModal" nzTitle="Encode Casualty" (nzOnCancel)="modalCancel()">
  <form nz-form [formGroup]="formGroup">
    <nz-form-item>
      <nz-form-label [nzSm]="8" [nzXs]="24" nzRequired nzFor="specifiedBranch">Specified Branch</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Please input Specified Branch!">
        <input nz-input id="specifiedBranch" formControlName="specifiedBranch" />
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSm]="8" [nzXs]="24" nzRequired nzFor="date">Date</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Please input Date!">
        <input nz-input id="date" formControlName="date" />
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label [nzSm]="8" [nzXs]="24" nzRequired nzFor="nameOfDeceased">Name of Deceased</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="Please input Receipt Name of Deceased!">
        <input nz-input id="nameOfDeceased" formControlName="nameOfDeceased"/>
      </nz-form-control>
    </nz-form-item>
  </form>

  <div *nzModalFooter>
    <button nz-button nzType="default" (click)="modalCancel()">Close</button>
    <button nz-button nzType="primary" (click)="submitForm()" [nzLoading]="isConfirmLoading">Submit</button>
  </div>
</nz-modal> -->